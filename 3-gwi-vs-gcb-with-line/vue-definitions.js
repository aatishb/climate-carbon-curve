// custom graph component
Vue.component('graph', {

  props: ['traces', 'layout', 'points', 'points2'],

  template: '<div ref="graph" class="graph" style="width: 700px; height: 700px;"></div>',

  methods: {

    makeGraph() {
      Plotly.newPlot(this.$refs.graph, this.traces, this.layout);
    },


  },

  mounted() {
    this.makeGraph();
  },

  data() {
    return {
    }
  }

})

// global data
let app = new Vue({

  el: '#root',

  computed: {

  },

  data: {

    gwi: {
      x: [0, 2.71136, 5.496, 8.28064, 11.10192, 13.95984, 16.8544, 19.7856, 22.7168, 25.68464, 28.5792, 31.47376, 34.33168, 37.1896, 40.08416, 43.01536, 45.94656, 48.87776, 51.8456, 54.81344, 58.0744, 61.48192, 64.99936, 68.62672, 72.29072, 76.06464, 79.8752, 83.7224, 87.64288, 91.63664, 95.74032, 99.88064, 104.13088, 108.4544, 112.8512, 117.28464, 121.71808, 126.26144, 130.91472, 135.60464, 140.5144, 145.57072, 150.66368, 155.79328, 160.99616, 166.3456, 171.76832, 177.30096, 182.98016, 188.80592, 194.85152, 201.08032, 207.45568, 214.05088, 220.71936, 227.57104, 234.64256, 242.0072, 249.26192, 256.69984, 264.13776, 271.64896, 279.27008, 287.0744, 294.47568, 301.80368, 309.31488, 317.04592, 324.70368, 331.88512, 339.68944, 347.12736, 354.82176, 362.99248, 371.1632, 379.44384, 387.72448, 396.33488, 404.98192, 413.92208, 422.71568, 431.2528, 439.53344, 448.07056, 456.97408, 466.17072, 475.80704, 485.77312, 495.48272, 505.41216, 515.81792, 526.44352, 537.06912, 547.84128, 558.54016, 568.39632, 578.50896, 589.13456, 600.01664, 610.6056, 622.25712, 634.6048, 647.13568, 659.92304, 672.8936, 686.59696, 700.9232, 715.68912, 730.7848, 746.39344, 761.9288, 777.28096, 792.8896, 808.79136, 825.09616, 841.76736, 858.87824, 876.2456, 894.27248, 913.10544, 932.78112, 952.89648, 973.48816, 994.84928, 1016.10048, 1037.13184, 1059.0792, 1081.50288, 1103.99984, 1127.4128, 1150.78912, 1173.61584, 1196.296, 1219.04944, 1242.60896, 1266.79136, 1291.7432, 1317.35456, 1343.80864, 1370.81232, 1397.816, 1425.1128, 1452.26304, 1479.37664, 1506.82, 1534.70304, 1563.02576, 1593.4736, 1621.97952, 1650.30224, 1679.68752, 1709.14608, 1739.55728, 1771.50736, 1804.59328, 1838.26544, 1873.14672, 1907.95472, 1943.97184, 1981.23472, 2019.48688, 2058.83824, 2099.61856, 2140.47216, 2181.83872, 2223.24192, 2263.69248, 2304.94912],
      y: [-0.02717434641, -0.02604934641, -0.02471601307, -0.02338267974, -0.02274101307, -0.02254101307, -0.02236601307, -0.02218267974, -0.02157434641, -0.02116601307, -0.02159101307, -0.02224934641, -0.02273267974, -0.02306601307, -0.02290767974, -0.02241601307, -0.02194101307, -0.02109101307, -0.02003267974, -0.01876601307, -0.01699934641, -0.01523267974, -0.01377434641, -0.01175767974, -0.009374346405, -0.007066013072, -0.004466013072, -0.002441013072, -0.0007076797386, 0.001058986928, 0.002492320261, 0.003650653595, 0.004967320261, 0.006058986928, 0.007417320261, 0.009300653595, 0.01127565359, 0.01441732026, 0.01841732026, 0.02207565359, 0.02544232026, 0.02850065359, 0.03135065359, 0.03440898693, 0.03725065359, 0.03956732026, 0.04178398693, 0.04403398693, 0.04661732026, 0.04984232026, 0.05257565359, 0.05440065359, 0.05590065359, 0.05793398693, 0.06113398693, 0.06421732026, 0.06709232026, 0.07063398693, 0.07394232026, 0.07770898693, 0.08132565359, 0.08385065359, 0.08702565359, 0.09048398693, 0.09408398693, 0.09859232026, 0.1037589869, 0.1088839869, 0.1134006536, 0.1181589869, 0.1232673203, 0.1281923203, 0.1326923203, 0.1363589869, 0.1396839869, 0.1428673203, 0.1455673203, 0.1481173203, 0.1510173203, 0.1545423203, 0.1580839869, 0.1612756536, 0.1651173203, 0.1690923203, 0.1734839869, 0.1782839869, 0.1824589869, 0.1857839869, 0.1895673203, 0.1936589869, 0.1976839869, 0.2016673203, 0.2051506536, 0.2089256536, 0.2121756536, 0.2148756536, 0.2169173203, 0.2185339869, 0.2201006536, 0.2213839869, 0.2230173203, 0.2248173203, 0.2269089869, 0.2290839869, 0.2314589869, 0.2336006536, 0.2357339869, 0.2384006536, 0.2412506536, 0.2445756536, 0.2486006536, 0.2519173203, 0.2551256536, 0.2582006536, 0.2616339869, 0.2655839869, 0.2702006536, 0.2752089869, 0.2807339869, 0.2866839869, 0.2934256536, 0.3006339869, 0.3096339869, 0.3199589869, 0.3312756536, 0.3441506536, 0.3578256536, 0.3722923203, 0.3879173203, 0.4042923203, 0.4212173203, 0.4388256536, 0.4554173203, 0.4709506536, 0.4866089869, 0.5023006536, 0.5176923203, 0.5332839869, 0.5491589869, 0.5650839869, 0.5804923203, 0.5952923203, 0.6094923203, 0.6232589869, 0.6352506536, 0.6467339869, 0.6584339869, 0.6704923203, 0.6827756536, 0.6954173203, 0.7087173203, 0.7219256536, 0.7349423203, 0.7489923203, 0.7633673203, 0.7787339869, 0.7945006536, 0.8105423203, 0.8270089869, 0.8437506536, 0.8598506536, 0.8763756536, 0.8929256536, 0.9108673203, 0.9299089869, 0.9495339869, 0.9703089869, 0.9902506536],
      //text: ['1850', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '1900', '', '', '', '', '', '', '', '', '', '1910', '', '', '', '', '', '', '', '', '', '1920', '', '', '', '', '', '', '', '', '', '1930', '', '', '', '', '', '', '', '', '', '1940', '', '', '', '', '', '', '', '', '', '1950', '', '', '', '', '', '', '', '', '', '1960', '', '', '', '', '', '', '', '', '', '1970', '', '', '', '', '', '', '', '', '', '1980', '', '', '', '', '', '', '', '', '', '1990', '', '', '', '', '', '', '', '', '', '2000', '', '', '', '', '', '', '', '', '', '2010', '', '', '', '', '', '', '2017'],
      text: ['1850', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '1900', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '1920', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '1950', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '1970', '', '', '', '', '', '', '', '', '', '1980', '', '', '', '', '', '', '', '', '', '1990', '', '', '', '', '', '', '', '', '', '2000', '', '', '', '', '', '', '', '', '', '2010', '', '', '', '', '', '', '2017'],
      type: 'scatter',
      mode: 'markers+text',
      textposition: 'topleft',
      marker: {
        color: 'rgb(128, 0, 128)',
        size: 4
      },
      line: {
        color: 'rgb(128, 0, 128)',
        width: 2
      }

    },

    trendLine: {
      x: Array(5000).fill(0).map((e,i) => 0 + i ),
      y : Array(5000).fill(0).map((e,i) => -0.02717434641 + i * (0.9902506536 + 0.02717434641) / 2304.94912),
      type: 'scatter',
      mode: 'lines',
      line: {
        color: '#f1bc31',
        width: 3,
      }

    },

    upperBound: {
      x: Array(5000).fill(0).map((e,i) => 0 + i ),
      y : Array(5000).fill(0).map((e,i) => -0.02717434641 + i * 0.513646/1000),
      //x: Array(3000).fill(0).map((e,i) => 2304.94912 + 1 * i ),
      //y : Array(3000).fill(0).map((e,i) => 0.9902506536 + 1 * i * 0.561148/1000),
      type: 'scatter',
      mode: 'none',
      fill: 'tonextx',
      fillcolor: 'rgba(240,0,0,0.2)'

    },

    lowerBound: {
      x: Array(6000).fill(0).map((e,i) => 0 + i ),
      y : Array(6000).fill(0).map((e,i) => -0.02717434641 + i * 0.366354/1000),
      //x: Array(4000).fill(0).map((e,i) => 2304.94912 + 1 * i ),
      //y : Array(4000).fill(0).map((e,i) => 0.9902506536 + 1 * i * 0.318852/1000),
      type: 'scatter',
      mode: 'none',
      fill: 'tozeroy',
      fillcolor: 'rgba(0,0,0,0)'

    },


    layout: {

      xaxis: {
        title: 'Total CO₂ emissions since 1850 (in billions of tons of CO₂)',
        range: [-500, 6100],
        hoverformat: '.4r',
      },

      yaxis: {
        title: 'Global Warming Index (in °C, relative to 1850-1900)',
        range: [-0.1, 2.15],
        hoverformat: '.4r',
       },

      font: {
        family: 'Open Sans',
        size: 18,
        color: '#7f7f7f'
      },

      showlegend: false,
      hovermode: 'closest',
    }

  }

})
